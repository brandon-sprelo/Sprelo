(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3700:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(2040)}])},2040:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return v}});var t=n(5893),i=n(9008),o=n.n(i),s=n(7350),c=n(7073),a=n(204),l=n(8911),d=n(8267),u=n(5370),p=n(3655),f=n(8399),h=n(9222),x=n(7536),m=n(9836),b=n(1664),g=n.n(b),j=n(1163),w=n(4885);function v(){let{handleSubmit:e,register:r,formState:{errors:n,isSubmitting:i}}=(0,x.cI)(),b=(0,s.p)(),v=(0,j.useRouter)();async function C(e){let r=await fetch("http://localhost:3000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.ok){let{access_token:e}=await r.json();(0,m.Gx)(e),b({title:"Login successful.",description:"Welcome back to Sprelo.",status:"success",duration:3e3,isClosable:!0}),v.push("/")}else console.error("login failed"),b({title:"Login failed.",description:"Invalid email or password.",status:"error",duration:3e3,isClosable:!0})}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o(),{children:(0,t.jsx)("title",{children:"Sprelo - Log In"})}),(0,t.jsxs)(c.K,{minH:"100vh",direction:{base:"column",md:"row"},children:[(0,t.jsx)(a.k,{p:8,flex:7,align:"center",justify:"center",children:(0,t.jsxs)(c.K,{spacing:4,w:"full",maxW:"container.md",children:[(0,t.jsxs)(a.k,{justifyContent:"space-between",children:[(0,t.jsx)(g(),{href:"/",children:(0,t.jsx)(w.Z,{})}),(0,t.jsx)(l.x,{fontSize:"15px",as:"u",display:"flex",alignItems:"center",children:(0,t.jsx)(g(),{href:"/signup",children:"Sign up"})})]}),(0,t.jsx)(l.x,{fontSize:"45px",pb:"69",pt:"102",children:"Welcome back!"}),(0,t.jsxs)("form",{onSubmit:e(C),children:[(0,t.jsxs)(d.NI,{id:"email",isInvalid:!!n.email,pb:"10px",children:[(0,t.jsx)(u.l,{htmlFor:"email",children:"Email"}),(0,t.jsx)(p.I,{bgColor:"input.background",border:"1px",borderColor:"input.border",type:"email",id:"email",...r("email",{required:"This is required"})}),(0,t.jsx)(f.J1,{children:(0,t.jsx)(t.Fragment,{children:n.email&&n.email.message})})]}),(0,t.jsxs)(d.NI,{id:"password",isInvalid:!!n.password,children:[(0,t.jsx)(u.l,{htmlFor:"password",children:"Password"}),(0,t.jsx)(p.I,{bgColor:"input.background",border:"1px",borderColor:"input.border",type:"password",id:"password",...r("password",{required:"This is required"})}),(0,t.jsx)(f.J1,{children:(0,t.jsx)(t.Fragment,{children:n.password&&n.password.message})})]}),(0,t.jsxs)(c.K,{spacing:6,children:[(0,t.jsx)(c.K,{direction:{base:"column",sm:"row"},align:"start",justify:"space-between"}),(0,t.jsx)(h.z,{color:"white",bgColor:"black",variant:"solid",isLoading:i,type:"submit",children:"Login"})]})]})]})}),(0,t.jsx)(a.k,{flex:3,border:"1px",borderColor:"gray.200",bg:"sprelo.yellow"})]})]})}},9836:function(e,r,n){"use strict";n.d(r,{Gx:function(){return i},hP:function(){return o},om:function(){return s}});var t=n(1955);let i=e=>{t.Z.set("access_token",e,{expires:1})},o=()=>t.Z.get("access_token"),s=()=>t.Z.remove("access_token")},1163:function(e,r,n){e.exports=n(387)},1955:function(e,r){"use strict";/*! js-cookie v3.0.1 | MIT */function n(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)e[t]=n[t]}return e}var t=function e(r,t){function i(e,i,o){if("undefined"!=typeof document){"number"==typeof(o=n({},t,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=e+"="+r.write(i,e)+s}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],t={},i=0;i<n.length;i++){var o=n[i].split("="),s=o.slice(1).join("=");try{var c=decodeURIComponent(o[0]);if(t[c]=r.read(s,c),e===c)break}catch(e){}}return e?t[e]:t}},remove:function(e,r){i(e,"",n({},r,{expires:-1}))},withAttributes:function(r){return e(this.converter,n({},this.attributes,r))},withConverter:function(r){return e(n({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(r)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});r.Z=t}},function(e){e.O(0,[640,75,774,888,179],function(){return e(e.s=3700)}),_N_E=e.O()}]);